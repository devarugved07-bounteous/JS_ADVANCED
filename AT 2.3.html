<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AT 2 </title>
</head>
<body>
    <h1>Hello Bounteous</h1>
</body>
<script>
    const cities = [
    { name: 'Chennai', lat: 13.0878, lon: 80.2785 },
    { name: 'Mumbai', lat: 19.0760, lon: 72.8777 },
    { name: 'Delhi', lat: 28.7041, lon: 77.1025 }
];

function fetchWeather(city) {
    const url = `https://api.open-meteo.com/v1/forecast?latitude=${city.lat}&longitude=${city.lon}&hourly=temperature_2m&current=temperature_2m&forecast_days=1`;
    return fetch(url)
        .then(response => response.json())
        .then(data => ({ city: city.name, data }))
        .catch(error => ({ city: city.name, error }));
}

Promise.all(cities.map(fetchWeather)).then(results => {
    results.forEach(result => {
        if (result.error) {
            console.log(`${result.city}: Error fetching data`);
        } else {
            const temps = result.data.hourly.temperature_2m;
            const avg = temps.reduce((sum, t) => sum + t, 0) / temps.length;
            const current = temps[temps.length - 1];
            console.log(`${result.city} - Current: ${current}°C, Average: ${avg}°C`);
        }
    });
});
</script>
</html>